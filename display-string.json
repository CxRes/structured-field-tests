[
    {
        "name": "basic display string (ascii content)",
        "raw": ["%\"foo bar\""],
        "header_type": "item",
        "expected": [{"__type": "displaystring", "value": "foo bar"}, []]
    },
    {
        "name": "non-ascii display string (uppercase escaping)",
        "raw": ["%\"f%C3%BC%C3%BC\""],
        "canonical": ["%\"f%c3%bc%c3%bc\""],
        "header_type": "item",
        "expected": [{"__type": "displaystring", "value": "f端端"}, []]
    },
    {
        "name": "non-ascii display string (lowercase escaping)",
        "raw": ["%\"f%c3%bc%c3%bc\""],
        "header_type": "item",
        "expected": [{"__type": "displaystring", "value": "f端端"}, []]
    },
    {
        "name": "tab in display string",
        "raw": ["%\"\t\""],
        "header_type": "item",
        "must_fail": true
    },
    {
        "name": "newline in display string",
        "raw": ["%\"\n\""],
        "header_type": "item",
        "must_fail": true
    },
    {
        "name": "single quoted display string",
        "raw": ["%'foo'"],
        "header_type": "item",
        "must_fail": true
    },
    {
        "name": "unbalanced display string",
        "raw": ["%\"foo"],
        "header_type": "item",
        "must_fail": true
    },
    {
        "name": "display string quoting",
        "raw": ["%\"foo %22bar%22 \\ baz\""],
        "header_type": "item",
        "expected": [{"__type": "displaystring", "value": "foo \"bar\" \\ baz"}, []]
    },
    {
        "name": "bad display string escaping",
        "raw": ["%\"foo %a"],
        "header_type": "item",
        "must_fail": true
    }
]
